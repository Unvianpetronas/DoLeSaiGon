databaseChangeLog:
  - changeSet:
      id: 2 # Start with a new ID sequence for this file
      author: your_name # Change to your name/identifier
      changes:
        - createTable:
            tableName: Users # Matches ERD
            columns:
              - column:
                  name: UserID
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: FullName
                  type: NVARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: Email
                  type: NVARCHAR(255)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: PasswordHash # Assuming you'll store hashed passwords
                  type: NVARCHAR(MAX) # Or a fixed length if your hash is always the same size
                  constraints:
                    nullable: false
              - column:
                  name: PhoneNumber
                  type: NVARCHAR(20)
              - column:
                  name: CreatedAt
                  type: DATETIME
                  defaultValueComputed: GETDATE() # SQL Server function for current datetime
              - column:
                  name: Status
                  type: BIT
                  defaultValueBoolean: true # Assuming 1 is true (active)
                  constraints:
                    nullable: false
              - column:
                  name: RoleID # Foreign Key to Roles table
                  type: BIGINT # Matches RoleID type in your changelog-01.yaml
                  constraints:
                    nullable: false # Or true if a user can exist without a role initially
                    foreignKeyName: fk_Users_RoleID
                    references: Role(RoleID)

  - changeSet:
      id: 3
      author: your_name
      changes:
        - createTable:
            tableName: Address
            columns:
              - column:
                  name: AddressID
                  type: INT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: UserID # Foreign Key to Users table
                  type: INT
                  constraints:
                    nullable: false
                    foreignKeyName: fk_Address_UserID
                    references: Users(UserID)
              - column:
                  name: StreetAddress
                  type: NVARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: City
                  type: NVARCHAR(100)
                  constraints:
                    nullable: false
              - column:
                  name: StateProvince # State/Province
                  type: NVARCHAR(100)
              - column:
                  name: PostalCode
                  type: NVARCHAR(20)
              - column:
                  name: Country
                  type: NVARCHAR(100)
                  constraints:
                    nullable: false
              - column:
                  name: IsDefault
                  type: BIT
                  defaultValueBoolean: false
                  constraints:
                    nullable: false